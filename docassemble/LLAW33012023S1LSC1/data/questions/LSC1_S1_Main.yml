---
objects:
  - LSCLOGO: DAStaticFile.using(filename='lscsa-logo.png')
---
mandatory: True
code: |
  set_parts(logo='<img src="' + LSCLOGO.url_for() + '" style="height: 76px; width: 200px;">')
---
features: 
  css: C4_01_lnf_with_comments.css
---
features:
  debug: False
---
features:
  hide standard menu: True
---
metadata:
  title: |
    Legal Services Commission South Australia - DriveWise App
  short title: |
    DriveWise
  description: |
    The DriveWise app is a collaboration between Flinders University and the Legal Services Commission South Australia (LSC) to provide further information relating to drink driving offences. The target user is an individual who has been charged with a drink driving offence. When opening the app they will be asked a series of questions relating to their specific offence and provided with information of the possible penalties applicable. If the user has not been charged with a drink driving offence, it will exit the app and redirect to the LSC website for further information. The app is not intended to provide legal advice.
  authors:
    - name: Amber Whalland-Stedman
    - name: Anara Watson
    - name: Eleni Antarakis
    - name: Hayley Dalkos
    - name: Joshua Brown
    - name: Kyla Ward 
      organization: DriveWise SA
  revision_date: 2023-05-28
---
---
include: 
  - LSC_S1_Questions.yml
  - LSC_services.yml
  - LSCdatabase.yml
---
mandatory: True
code: |
  exit_url_lscsa = 'https://lsc.sa.gov.au/'
  # MISC/OTHER OFFENCES BRANCH
  if LSC_welcome_screen == 'exit':
    command('exit', url=exit_url_lscsa)
  elif LSC_welcome_screen == 'proceed':
    if LSC_charged_with_drink_driving_offence == False:
      if LSC_charged_with_other == True:
        if LSC_directory_Screen == 'exit':
          command('exit', url=exit_url_lscsa)
        elif LSC_directory_Screen == 'proceed':
          LSC_gen_info_screen
      else: 
        if LSC_seeking_gen_info == 'exit':
          command('exit', url=exit_url_lscsa)
        elif LSC_seeking_gen_info == 'proceed':
          LSC_gen_info_screen
    else:  
      # DUI BRANCH 
      if LSC_define_charge == 'LSC_DUI':
        if LSC_child_present_DUI == False:
          if LSC_first_offence_question_no_child == True: 
            if LSC_first_offence_no_c == 'exit':
              command('exit', url=exit_url_lscsa)
            elif LSC_first_offence_no_c == 'proceed':
              LSC_end_screen
          else: 
            if LSC_subsequent_offence_no_c == 'exit':
              command('exit', url=exit_url_lscsa)
            elif LSC_subsequent_offence_no_c == 'proceed':
              LSC_end_screen
        else: 
          if LSC_first_offence_question_yes_c_DUI == True:
            if LSC_first_offence_yes_c == 'exit':
              command('exit', url=exit_url_lscsa)
            elif LSC_first_offence_yes_c == 'proceed':
              LSC_end_screen
          else: 
            if LSC_subsequent_offence_yes_c == 'exit':
              command('exit', url=exit_url_lscsa)
            elif LSC_subsequent_offence_yes_c == 'proceed':
              LSC_end_screen
              
      # REFUSE TEST BRANCH     
      if LSC_define_charge == 'LSC_RT':
        if LSC_first_offence_q_RT == True:
          if LSC_child_present_first_RT == False:
            if LSC_first_RT_no_c == 'exit':
              command('exit', url=exit_url_lscsa)
            elif LSC_first_RT_no_c == 'proceed':
              LSC_end_screen
          else:
            if LSC_first_RT_yes_c == 'exit':
              command('exit', url=exit_url_lscsa)
            elif LSC_first_RT_yes_c == 'proceed':
              LSC_end_screen 
        else:
          if LSC_first_offence_q_RT == False:
            if LSC_child_present_RT == False:
              if LSC_subsequent_RT_no_c == 'exit':
                command('exit', url=exit_url_lscsa)
              elif LSC_subsequent_RT_no_c == 'proceed':
                LSC_end_screen
            else:
              if LSC_subsequent_RT_yes_c == 'exit':
                command('exit', url=exit_url_lscsa)
              elif LSC_subsequent_RT_yes_c == 'proceed':
                LSC_end_screen
        
      # PROVISIONAL LICENCE PCA BRANCH 
      if LSC_define_charge == 'LSC_PCA':
        if LSC_licence_class == 'LSC_learners_provisional':
          if LSC_provisional_PCA == 'exit':
            command('exit', url=exit_url_lscsa)
          elif LSC_provisional_PCA == 'proceed':
            LSC_end_screen
      # PCA FIRST OFFENCE BRANCH
        else:
          LSC_licence_class == 'LSC_full_license'
          if LSC_PCA_first_offence_question == True: 
            if LSC_BAC_range_question == 'LSC_low_BAC':
              if LSC_FO_PCA_low_BAC == 'exit':
                command('exit', url=exit_url_lscsa)
              elif LSC_FO_PCA_low_BAC == 'proceed':
                LSC_end_screen
            elif LSC_BAC_range_question == 'LSC_mid_BCA':
              if LSC_PCA_FO_PCA_mid_BAC_child_question == False:
                if LSC_FO_PCA_mid_BAC_no_c == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_FO_PCA_mid_BAC_no_c == 'proceed':
                  LSC_end_screen
              else:
                if LSC_FO_PCA_mid_BAC_yes_c == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_FO_PCA_mid_BAC_yes_c == 'proceed':
                  LSC_end_screen
            elif LSC_BAC_range_question == 'LSC_high_BAC':
              if LSC_PCA_FO_high_BAC_child_question == False:
                if LSC_PCA_FO_high_BAC_no_c == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_FO_high_BAC_no_c == 'proceed':
                  LSC_end_screen
              else:
                if LSC_PCA_FO_high_BAC_child_y == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_FO_high_BAC_child_y == 'proceed':
                  LSC_end_screen        
          # PCA SECOND OFFENCE BRANCH
          elif LSC_PCA_subsequent_offence_number_question == 'LSC_PCA_second':
            if LSC_PCA_SO_BAC_question == 'LSC_low_BAC_so':
              if LSC_PCA_SO_low_BAC == 'exit':
                command('exit', url=exit_url_lscsa)
              elif LSC_PCA_SO_low_BAC == 'proceed':
                LSC_end_screen     
            elif LSC_PCA_SO_BAC_question == 'LSC_mid_BAC_so':
              if LSC_PCA_SO_mid_BAC_child_question == False:
                if LSC_PCA_SO_mid_BAC_child_n == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_SO_mid_BAC_child_n == 'proceed':
                  LSC_end_screen
              else:
                if LSC_PCA_SO_mid_BAC_child_y == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_SO_mid_BAC_child_y == 'proceed':
                  LSC_end_screen
            elif LSC_PCA_SO_BAC_question == 'LSC_high_BAC_so':  
              if LSC_PCA_SO_high_BAC_child_question == False:
                if LSC_PCA_high_BAC_child_n == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_high_BAC_child_n == 'proceed':
                  LSC_end_screen
              else:
                if LSC_PCA_high_BAC_child_y == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_high_BAC_child_y == 'proceed':
                  LSC_end_screen
                
          # PCA THIRD OFFENCE BRANCH                
          elif LSC_PCA_subsequent_offence_number_question == 'LSC_PCA_third':
            if LSC_PCA_TO_BAC_question == 'LSC_low_BAC_to':
              if LSC_PCA_TO_low_BAC == 'exit':
                command('exit', url=exit_url_lscsa)
              elif LSC_PCA_TO_low_BAC == 'proceed':
                LSC_end_screen
              
            elif LSC_PCA_TO_BAC_question == 'LSC_mid_BAC_to':
              if LSC_PCA_TO_mid_BAC_child_question == True:
                if LSC_PCA_TO_mid_BAC_child_y == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_TO_mid_BAC_child_y == 'proceed':
                  LSC_end_screen
              else:
                if LSC_PCA_TO_mid_BAC_child_n == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_TO_mid_BAC_child_n == 'proceed':
                  LSC_end_screen        
            elif LSC_PCA_TO_BAC_question == 'LSC_high_BAC_to':
              if LSC_PCA_TO_high_BAC_child_question == True:
                if LSC_PCA_TO_high_BAC_child_y == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_TO_high_BAC_child_y == 'proceed':
                  LSC_end_screen
              else: 
                if LSC_PCA_TO_high_BAC_child_n == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_TO_high_BAC_child_n == 'proceed':
                  LSC_end_screen
                
        # PCA SUBSEQUENT OFFENCE BRANCH
          elif LSC_PCA_subsequent_offence_number_question == 'LSC_PCA_subsequent':
            if LSC_PCA_SUB_BAC_question == 'LSC_SUB_low_BAC':
              if LSC_SUB_low_BAC == 'exit':
                command('exit', url=exit_url_lscsa)
              elif LSC_SUB_low_BAC == 'proceed':
                LSC_end_screen  
            elif LSC_PCA_SUB_BAC_question == 'LSC_SUB_mid_BAC':
              if LSC_PCA_SUB_mid_BAC_child_quesiton == True:
                if LSC_PCA_SUB_mid_BAC_child_y == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_SUB_mid_BAC_child_y == 'proceed':
                  LSC_end_screen
              else:
                if LSC_PCA_SUB_mid_BAC_child_n == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_SUB_mid_BAC_child_n == 'proceed':
                  LSC_end_screen
            elif LSC_PCA_SUB_BAC_question == 'LSC_SUB_high_BAC':
              if LSC_PCA_SUB_high_BAC_child_question == True: 
                if LSC_PCA_SUB_high_BAC_child_y == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_SUB_high_BAC_child_y == 'proceed':
                  LSC_end_screen
              else:
                if LSC_PCA_SUB_high_BAC_child_n == 'exit':
                  command('exit', url=exit_url_lscsa)
                elif LSC_PCA_SUB_high_BAC_child_n == 'proceed':
                  LSC_end_screen
---
table: LSC_services_table
rows: LSC_services
columns:
  - Service: row_item['service name']
  - Contact: |
      '[{}]({})'.format(row_item['link'], row_item['website'])
---
terms:
  - phrases:
    - Exceeding the Prescribed Concentration of Alcohol
    - Exceeded the Prescribed Concentration of Alcohol
    - Exceeding Prescribed Concentration of Alcohol
    - Exceeded Prescribed Concentration of Alcohol
    - prescribed concentration of alcohol
    - exceeding the PCA
    - exceeded the PCA
    - PCA offence
    definition: |
      [FILE Exceeding_PCA.png]
  - drink driving offence: |
      Could include: driving with a concentration of alcohol in your system (PCA or           DUI) or refusing a breath test.
  - phrases:
    - Refusing a Breath Test
    - Refusing an Alcotest
    - breath alcotest
    - refused the breath alcotest
    definition: |
     [FILE Refusing_an_Alcohol_Test.png]      
  - drink driving charge: |
      If you are unsure, select the option you believe may be most applicable to you or       check your summons if you have one.
  - alcohol interlock scheme: |
      [FILE Interlock_Scheme.png]
  - alcohol dependency assessment: |  
      [FILE Alcohol_Dependancy_Assessment.png] 
  - phrases:
    - Driving Under the Influence
    - DUI offences
    - DUI offence
    definition: |
      [FILE Driving_Under_Influence.png]
  - court: |
      [FILE Court_Process.png]
  - demerit points: |
      [FILE Demerit_Point.png]
  - lose your licence: |
      [FILE Lose_Licence.png]
  - blood alcohol concentration: |
      The amount of alcohol in your blood, usually measured using a breath machine that       you have to blow into.
  - highlighted text: |
      Highlighted text means you can see definitions for words that may be unclear,           click on them to see their meaning.
---
---
# Modify the post default screen part to attribute work to Flinders and your client
# Remember to replace XXXX with your client's name.
default screen parts:
  post: |
    <div style="display: flex; height: 200px; align-items: flex-end; flex-direction: row-reverse">
    <div style="margin: 5px"><img src="https://staff.flinders.edu.au/etc.clientlibs/flinders/clientlibs/clientlib-site/resources/images/flinderuni_main_logo_black.png" height="40">
    </div>
    <div style="margin: 5px; text-align: center">
    <cite><small><i>
    Developed by Flinders University in collaboration with the Legal Services Commission South Australia.
    </i></small></cite>
    </div>
    </div>
---